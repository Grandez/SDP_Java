<?xml version="1.0" encoding="UTF-8"?>
<RULES xmlns="http://www.sdp.com/SDPRULES" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xsi:schemaLocation="http://www.sdp.com/SDPRULES SDPRULES.xsd ">

   <header>
      <title>Reglas lexicas / Comentarios</title>
      <replace>true</replace>
   </header>
   
   <group name="CMT">
      <idGroup>12</idGroup>
      <idParent>10</idParent>
      <prefix>CMT</prefix>
      <active>true</active>
      <description>
          <text lang="xx">Comentarios</text>      
      </description>
      
      <item>
         <idItem>1</</idItem>
         <active>true</active>
         <object>CMT</object>
         <description>
            <text lang="xx">Gestion de comentarios</text>
         </description>
         
         <rule>
            <idRule>1</idRule>
            <active>true</active>
            <priority>0</priority>
            <severity>2</severity>
            <description>
               <text lang="xx">Los comentarios {comparator} {value}</text>
            </description>
            <condition negated=true>
               <objectType>start</objectType>
               <comparator>mandatory</comparator>
               <value>*</value>
            </condition>        
                            <sample>
               <bad>
      / ESTE ES UN COMENTARIO INCORRECTO
      D ESTE ES OTRO COMENTARIO INCORRECTO          
               </bad>
               <correct>
      * ESTE ES UN COMENTARIO CORRECTO           
               </correct>

            </sample>                
         </rule>
         
         <rule>
            <idRule>2</idRule>
            <active>true</active>
            <priority>0</priority>
            <severity>2</severity>
            <description>
               <text lang="xx">No se deben crear lineas de comentarios aislados</text>
            </description>
            <condition>
               <method>length()</method>
               <comparator>gt</comparator>
               <value>1</value>
            </condition>        
                
         </rule>
         
      </item>

      </item>
   </group>

</RULES>

INSERT INTO RUL_ITEMS  (idGroup, idItem,  idDesc, activo,   clave, uid,      tms) 
            VALUES     (     21,      1,       0,      0,   'CMT', 'SYSTEM', CURRENT_TIMESTAMP);
INSERT INTO RUL_RULES  (idGroup, idItem,  idRule,     idDesc, activo, priority, severity, tipo, comparador,  valor, uid,      tms) 
            VALUES     (     21,      1,       1,     210101,      0,        1,        3,    1,          7,    '*', 'SYSTEM', CURRENT_TIMESTAMP);
INSERT INTO RUL_DESC   (idDesc,  idLang, idDialect, txt) VALUES (  210101, 'xx', 'XX', 'Los comentarios {comparador} {valor}');

INSERT INTO RUL_RULES  (idGroup, idItem,  idRule,     idDesc, activo, priority, severity, tipo, propiedad, comparador,  valor, uid,      tms) 
            VALUES     (     21,      1,       4,     210104,      1,        0,        3,    5,  210104,          2,    '1', 'SYSTEM', CURRENT_TIMESTAMP);
INSERT INTO RUL_DESC   (idDesc,  idLang, idDialect, txt) VALUES (  210104, 'xx', 'XX', 'No se deben crear lineas de comentarios aislados');
INSERT INTO RUL_FORMULAS (idFormula, idType, idSeq, formula)
            VALUES       (210104,         0,     0, 'Line.length()');
INSERT INTO RUL_FORMULAS (idFormula, idType, idSeq, formula)
            VALUES       (210104,         0,     1, 'Length');
